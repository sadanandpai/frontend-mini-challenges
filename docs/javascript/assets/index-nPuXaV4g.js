import"./header-sR9rfrPM.js";import"./navbar-ByK1SJ-l.js";const w=document.querySelector(".post-container"),E=document.querySelector(".loader"),C=document.querySelector(".end-of-content"),b=document.querySelector(".fetch-error");let s=0,u=y(s),d=!1,a=!1,m=!1,r=0;const H=3;function y(e){const c=Math.ceil(window.innerHeight/90);return e+c}function p(e=[]){e.forEach((n,c)=>{const o=document.createElement("div");o.className="post";const t=document.createElement("span");t.className="post-number",t.textContent=s+c+1;const l=document.createElement("span");l.className="post-body",l.textContent=n.body,o.appendChild(t),o.appendChild(l),w.appendChild(o)})}function N(){C.style.display="block"}function h(e){b.style.display=e}function i(e){E.style.display=e}function f(e,n){const c=`https://jsonplaceholder.typicode.com/posts?_start=${e}&_end=${n}`;d=!0,h("none"),i("block"),setTimeout(async()=>{try{const t=await(await fetch(c)).json();t.length<n-e?(m=!0,i("none"),t.length>0&&p(t),N()):(p(t),s=n,u=y(s)),r=0,a=!1}catch(o){console.log(o),r++;const t=document.getElementsByClassName("post").length;r>H?(h("block"),a=!0):t===0&&f(e,n),i("none")}finally{d=!1}},500)}f(s,u);function g(){if(d||m||a)return;const e=Math.ceil(window.innerHeight+window.scrollY),n=window.document.body.offsetHeight-36;e>=n&&f(s,u)}window.addEventListener("scroll",g);window.addEventListener("resize",g);
